<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<title>Tree Example</title>

<link type="text/css" rel="stylesheet" href="css/tree.css">

<style type="text/css">

body  { background: white; color: black; }
input { width: 120px; }

</style>

<script language="JavaScript" src="../../../../../../prepend.js"></script>

<script language="JavaScript">

set_library_path( '../../../../../../kernel/js/' );
using( 'peer.http.cookie.CookieUtil' );
using( 'gui.tree.lib.TreeConfig' );
using( 'gui.tree.lib.TreeHandler' );
using( 'gui.tree.lib.TreeAbstractNode' );
using( 'gui.tree.lib.Tree' );
using( 'gui.tree.lib.TreeItem' );

</script>

</head>

<body>

<div style="position: absolute; width: 200px; top: 0px; left: 0px; height: 100%; padding: 5px; overflow: auto;">
<script language="JavaScript">

if ( document.getElementById )
{
	var tree = new Tree( 'Root' );
	tree.setBehavior( 'classic' );
	
	var a = new TreeItem( '1' );
	tree.add( a );
	
	var b = new TreeItem( '1.1' );
	a.add( b );
	
	b.add( new TreeItem( '1.1.1' ) );
	b.add( new TreeItem( '1.1.2' ) );
	b.add( new TreeItem( '1.1.3' ) );
	
	var f = new TreeItem( '1.1.4' );
	b.add( f );                       
	
	f.add( new TreeItem( '1.1.4.1' ) );
	f.add( new TreeItem( '1.1.4.2' ) );
	f.add( new TreeItem( '1.1.4.3' ) );
	
	var c = new TreeItem( '1.5' );
	a.add( c );                       
	
	c.add( new TreeItem( '1.5.1' ) );
	c.add( new TreeItem( '1.5.2' ) );
	c.add( new TreeItem( '1.5.3' ) );
	
	a.add( new TreeItem( '1.6' ) );
	a.add( new TreeItem( '1.7' ) );
	a.add( new TreeItem( '1.8' ) );
	
	var d = new TreeItem( '2' );
	tree.add( d );
	
	var e = new TreeItem( '2.1' );
	d.add( e );
	
	e.add( new TreeItem( '2.1.1' ) );
	e.add( new TreeItem( '2.1.2' ) );
	e.add( new TreeItem( '2.1.3' ) );

	d.add( new TreeItem( '2.2' ) );
	d.add( new TreeItem( '2.3' ) );
	d.add( new TreeItem( '2.4' ) );

	document.write( tree.toHTML() );
}

</script>
</div>

<div style="position: absolute; left: 205px; top: 10px;">
	<p>This tree works just as the one found in the Microsoft Windows Explorer, expand/collapse a tree item by double click on the icon or by single click on the plus/minus symbol.<br/>Buttons below bound to the tree root.</p>
	<p>This is the method thats called when you click on a tree item.<br/><input type="button" value="toggle()" onclick="tree.toggle();"></p>
	<p>Pretty self explaining, expands or collapses the current item.<br/><input type="button" value="expand()" onclick="tree.expand();"><input type="button" value="collapse()" onclick="tree.collapse();"></p>
	<p>Expands or collapses the current item and all child items (recursive).<br/><input type="button" value="expandAll()" onclick="tree.expandAll();"><input type="button" value="collapseAll()" onclick="tree.collapseAll();"></p>
	<p>Expands or collapses all child items (recursive) but not the item itself.<br/><input type="button" value="expandChildren()" onclick="tree.expandChildren();"><input type="button" value="collapseChildren()" onclick="tree.collapseChildren();"></p>
	<p>Returns the id of the selected item (if any)<br/><input type="button" value="alert(tree.getSelected())" onclick="alert(tree.getSelected());" style="width: 245px;"></p>
	<p>Add node(s) below selected, or remove the selected node.<br/><input type="button" onclick="addNode();"  style="width: 80px;" value="Add one" /><input type="button" onclick="addNodes();" style="width: 80px;" value="Add multiple" /><input type="button" onclick="delNode();"  style="width: 80px;" value="Remove" /></p>
</div>

</body>

<script language="JavaScript">

function addNode()
{ 
	if ( tree.getSelected() )
		tree.getSelected().add( new TreeItem( 'New' ) );
}

function addNodes()
{ 
	if (tree.getSelected())
	{
		var foo = tree.getSelected().add( new TreeItem( 'New' ) );
		var bar = foo.add( new TreeItem( 'Sub 1' ) );
		var fbr = foo.add( new TreeItem( 'Sub 2' ) );
	}
}

function delNode()
{
	if ( tree.getSelected() )
		tree.getSelected().remove();
}

</script>

</html>
